@{
    ViewBag.Title = "Справочник типов ОГВ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section workmenu {
    @Html.Partial("_AdminMenu", 1)
}

<style type="text/css">
    .glyphicon-remove, .glyphicon-edit {
        cursor: pointer;
        font-size: 1.1em;
        text-decoration: none !important;
    }

    .glyphicon-remove {
        color: darkred;
    }
</style>

<h2>@ViewBag.Title</h2>

<p>
    @Html.ActionLink("Новый", "Create")
</p>


<div ng-app="organizationType.app" ng-controller="organizationTypeController" ng-cloak id="organizationType-div">
    <a data-toggle="modal" data-target="#CreateOrganizationType" class="btn btn-primary">Добавить тип ОГВ</a>
    <table class="table table-bordered table-striped table-hover table-condensed table-responsive">
        <thead>
            <tr>
                <th hidden>Id</th>
                <th>Наименование</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="organizationType in organizationTypes">
                <td hidden>{{organizationType.id}}</td>
                <td>{{organizationType.caption}}</td>

                <td>
                    @*<a ng-click="editUser($index)" data-toggle="modal" data-target="#UpdateorganizationType" class="glyphicon glyphicon-edit" title="Редактировать"></a>
                    <a ng-click="deleteUser($index)" class="glyphicon glyphicon-remove" title="Удалить пользователя"></a>*@
                </td>
            </tr>
        </tbody>
    </table>
   @* @Html.Partial("Edit")
    @Html.Partial("Create")*@
</div>

@section javascripts{
    <script src="~/Content/js/angular/modules/organizationType.app.js"></script>
    <script src="~/Content/js/angular/services/organizationTypeServices.js"></script>
    <script src="~/Content/js/angular/controllers/organizationTypeController.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#CreateOrganizationType').on('hidden.bs.modal', function (e) {
                angular.element("#organizationType-div").scope().clearForms();
            });
        })
    </script>
}