<!-- Modal for change password-->
<div id="ChangePassword" ng-app="users.app" ng-controller="usersController" ng-cloak>
    <form name="newPasswordForm" ng-submit="changePasswordManage()" novalidate>
        <div class="form-group hidden" ng-class="{ 'has-error' : newPasswordForm.Password.$invalid && !newPasswordForm.Password.$pristine }">
            <input type="text" name="current_user" id="current_user" class="form-control" value=@ViewBag.UserId>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : newPasswordForm.Password.$invalid && !newPasswordForm.Password.$pristine }">
            <input type="password" name="Password" id="mypass" class="form-control" ng-model="password.new_password" required placeholder="Новый пароль">
            <p ng-show="newPasswordForm.Password.$invalid && !newPasswordForm.Password.$pristine" class="help-block">Введите новый пароль</p>
        </div>
        <div class="form-group" ng-class="{ 'has-error' : newPasswordForm.ConfirmPassword.$invalid && !newPasswordForm.ConfirmPassword.$pristine }">
            <input type="password" name="ConfirmPassword" class="form-control" ng-model="password.confirm_password" required placeholder="Подтверждение нового пароля" pw-check="mypass">
            <p ng-show="newPasswordForm.ConfirmPassword.$invalid && !newPasswordForm.ConfirmPassword.$pristine && newPasswordForm.ConfirmPassword.$error.pwmatch" class="help-block">Введено некорректное подтверждение пароля</p>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-lg btn-success" ng-disabled="newPasswordForm.$invalid">Установить пароль</button>
        </div>
    </form>
</div>
